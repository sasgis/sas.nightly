##### Скрипты автоматической сборки и публикации проекта SAS.Планета

1. Установить [Git](https://git-scm.com/downloads)

2. Выполнить команду из консоли: 

    `git clone https://github.com/sasgis/sas.nightly`

3. Перейти в папку `./sas.nightly/` и запустить `./install.cmd` для первоначальной загрузки и портативной установки в папку `./bin/` необходимых утилит (консольный компилятор Delphi, набор утилит gnugettext и проч.)

4. Из той же папки запустить скрипт `./release.cmd` - в первый раз будет загружен репозиторий с исходниками SAS и все вспомогательные репозитории, плюс будет выполнена релизная сборка проекта (готовый архив будет в папке `./upload/`)   

5. Если планируется публикация ночных сборок на [bitbucket.org](https://bitbucket.org/sas_team/sas.planet.bin/downloads/), то необходимо создать файл `c:\Users\%UserName%\_netrc` и внести туда свои данные для авторизации (подробнее см. [тут](https://everything.curl.dev/usingcurl/netrc.html))

6. По мере необходимости запускать батники `./nightly.cmd` (ночная сборка и публикация) или `./release.cmd` (релизная сборка)   

**Примечания:**

- Весь вывод батников и скриптов перенаправляется в лог файлы (сохраняются в папке `./log/`), так что после запуска того или иного батника не стоит пугаться пустого чёрного окна. Достаточно дождаться пока оно закроется и потом уже смотреть логи и искать собранные архивы. При первом запуске `./release.cmd` окно будет висеть достаточно долго, т.к. будут загружаться объёмные вспомогательные репозитории.

- Переопределить ключи компиляции и изменить прочие настройки Delphi компилятора можно в соответствующих батниках: `./script/debug.bat` и `./script/release.bat`

- В папке `./data/` можно разместить любые дополнительные папки/файлы, которые будут добавлены в готовый архив. Добавление производится в корень архива, с сохранением структуры директорий.
